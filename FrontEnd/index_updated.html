<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZenTej AI - eKYC Verification</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
    min-height: 100vh; display: flex; justify-content: center; align-items: center; overflow-x: hidden;
}
.container { width:100%; max-width:1200px; padding:20px; }
.hidden { display:none !important; }

/* Form Cards */
.card {
    background: rgba(15,20,40,0.85);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 50px;
    max-width: 450px;
    margin: 0 auto;
    box-shadow: 0 8px 32px rgba(0,255,255,0.1);
    border: 1px solid rgba(0,255,255,0.2);
    animation: fadeIn 0.6s ease-out;
    text-align:center;
}
.card h1,h2 { color:#00ffff; text-shadow:0 0 20px #00ffff; margin-bottom:15px; }
.card p { color:#8892b0; margin-bottom:25px; }

.input-group { margin-bottom:20px; text-align:left; }
.input-group label { color:#00ffff; font-size:0.9em; margin-bottom:5px; display:block; }
.input-group input { width:100%; padding:14px 18px; border-radius:10px; border:2px solid rgba(0,255,255,0.3); background: rgba(30,35,60,0.6); color:#fff; outline:none; transition:0.3s; }
.input-group input:focus { border-color:#00ffff; box-shadow:0 0 15px rgba(0,255,255,0.3); background: rgba(30,35,60,0.8); }

.neon-button {
    width:100%; padding:15px;
    background: linear-gradient(135deg,#00ffff 0%,#00cccc 100%);
    border:none; border-radius:10px; color:#0a0e27; font-weight:bold;
    cursor:pointer; transition:0.3s; margin-top:10px;
}
.neon-button:hover { transform:translateY(-2px); box-shadow:0 0 30px rgba(0,255,255,0.6); }

/* Verification Page */
.verification-container { display:none; animation: fadeIn 0.6s ease-out; }
.verification-grid { display:grid; grid-template-columns:1fr 1fr; gap:20px; }
.camera-section {
    background: rgba(15,20,40,0.8); backdrop-filter: blur(10px); border-radius:20px;
    padding:20px; border:2px solid rgba(0,255,255,0.3); transition:0.3s;
}
.camera-section:hover { border-color:#00ffff; box-shadow:0 0 20px rgba(0,255,255,0.2); }
.camera-section h3 { color:#00ffff; margin-bottom:15px; }
.camera-box { width:100%; height:250px; background:rgba(10,15,30,0.8); border-radius:10px; border:2px dashed rgba(0,255,255,0.4); display:flex; align-items:center; justify-content:center; position:relative; margin-bottom:10px; }
.camera-box video { width:100%; height:100%; object-fit:cover; border-radius:8px; display:none; }
.camera-box canvas { display:none; }
.camera-placeholder { color:#8892b0; text-align:center; }
.control-button { padding:10px 25px; margin:5px; border-radius:10px; border:2px solid #00ffff; color:#00ffff; background:rgba(0,255,255,0.1); cursor:pointer; transition:0.3s; }
.control-button:hover { background:rgba(0,255,255,0.2); transform:translateY(-2px); }
.results-panel { background: rgba(15,20,40,0.8); border-radius:15px; padding:20px; border:2px solid rgba(0,255,255,0.3); margin-top:15px; display:none; }
.metric { margin-bottom:15px; }
.metric-label { display:flex; justify-content:space-between; color:#8892b0; margin-bottom:5px; }
.metric-value { color:#00ffff; font-weight:bold; }
.progress-bar { width:100%; height:10px; background:rgba(30,35,60,0.6); border-radius:5px; overflow:hidden; }
.progress-fill { height:100%; background:linear-gradient(90deg,#00ffff,#ff00ff); border-radius:5px; width:0%; transition:width 1s ease; }

.status-badge { display:inline-block; padding:6px 15px; border-radius:15px; font-weight:bold; margin-top:10px; }
.status-badge.verified { background:rgba(0,255,0,0.2); color:#0f0; border:2px solid #0f0; }
.status-badge.pending { background:rgba(255,165,0,0.2); color:#ffa500; border:2px solid #ffa500; }

@keyframes fadeIn { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
@media(max-width:768px){ .verification-grid { grid-template-columns:1fr; } }
</style>
</head>
<body>
<div class="container">
    <!-- Login Card -->
    <div class="card" id="loginCard">
        <h1>ZenTej AI</h1>
        <p>Deepfake-Proof eKYC System</p>
        <form id="loginForm">
            <div class="input-group">
                <label>Email / User ID</label>
                <input type="text" id="loginUser" required>
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="loginPass" required>
            </div>
            <button type="submit" class="neon-button">Login</button>
        </form>
        <p style="margin-top:10px; color:#00ffff; cursor:pointer;" id="showRegister">Don't have an account? Register</p>
    </div>

    <!-- Registration Card -->
    <div class="card hidden" id="registerCard">
        <h1>Register</h1>
        <p>Create a new account</p>
        <form id="registerForm">
            <div class="input-group">
                <label>Full Name</label>
                <input type="text" id="regName" required>
            </div>
            <div class="input-group">
                <label>Email</label>
                <input type="email" id="regEmail" required>
            </div>
            <div class="input-group">
                <label>Password</label>
                <input type="password" id="regPass" required>
            </div>
            <div class="input-group">
                <label>Confirm Password</label>
                <input type="password" id="regConfirm" required>
            </div>
            <button type="submit" class="neon-button">Register</button>
        </form>
        <p style="margin-top:10px; color:#00ffff; cursor:pointer;" id="showLogin">Already have an account? Login</p>
    </div>

    <!-- Verification Card -->
    <div class="verification-container" id="verificationPage">
        <div class="card">
            <h2>Identity Verification</h2>
            <p>Please complete live verification and upload ID</p>
            <div class="verification-grid">
                <!-- Live Camera -->
                <div class="camera-section">
                    <h3>ðŸ“¹ Live Camera</h3>
                    <div class="camera-box" id="liveCamera">
                        <video id="videoElement" autoplay playsinline></video>
                        <canvas id="canvas"></canvas>
                        <div class="camera-placeholder" id="livePlaceholder">Click Start Camera</div>
                    </div>
                    <button class="control-button" id="startCamera">Start Camera</button>
                    <button class="control-button hidden" id="captureBtn">Capture</button>
                </div>
                <!-- Upload ID -->
                <div class="camera-section">
                    <h3>ðŸ“„ Upload ID</h3>
                    <div class="camera-box" id="uploadBox">
                        <canvas id="uploadCanvas"></canvas>
                        <div class="camera-placeholder">Choose file to upload</div>
                    </div>
                    <input type="file" id="fileInput" accept="image/*" style="display:none;">
                    <button class="control-button" id="uploadBtn">Choose File</button>
                    <button class="control-button hidden" id="verifyBtn">Verify Identity</button>
                </div>
            </div>
            <div class="results-panel" id="resultsPanel">
                <h3>Verification Results</h3>
                <div class="metric">
                    <div class="metric-label"><span>Match Score</span><span class="metric-value" id="matchScore">--</span></div>
                    <div class="progress-bar"><div class="progress-fill" id="matchProgress"></div></div>
                </div>
                <div class="metric">
                    <div class="metric-label"><span>Liveness Score</span><span class="metric-value" id="livenessScore">--</span></div>
                    <div class="progress-bar"><div class="progress-fill" id="livenessProgress"></div></div>
                </div>
                <div class="metric">
                    <div class="metric-label"><span>Authenticity Score</span><span class="metric-value" id="authenticityScore">--</span></div>
                    <div class="progress-bar"><div class="progress-fill" id="authenticityProgress"></div></div>
                </div>
                <span class="status-badge pending" id="statusBadge">Verification Pending</span>
            </div>
        </div>
    </div>
</div>

<script>
const loginCard = document.getElementById('loginCard');
const registerCard = document.getElementById('registerCard');
const showRegister = document.getElementById('showRegister');
const showLogin = document.getElementById('showLogin');
const loginForm = document.getElementById('loginForm');
const registerForm = document.getElementById('registerForm');
const verificationPage = document.getElementById('verificationPage');

showRegister.addEventListener('click', ()=>{ loginCard.classList.add('hidden'); registerCard.classList.remove('hidden'); });
showLogin.addEventListener('click', ()=>{ registerCard.classList.add('hidden'); loginCard.classList.remove('hidden'); });

// Login Submit
loginForm.addEventListener('submit',(e)=>{
    e.preventDefault();
    loginCard.classList.add('hidden');
    verificationPage.style.display='block';
});

// Register Submit
registerForm.addEventListener('submit',(e)=>{
    e.preventDefault();
    const pass = document.getElementById('regPass').value;
    const confirm = document.getElementById('regConfirm').value;
    if(pass !== confirm){ alert('Passwords do not match!'); return; }
    alert('Registration successful! Please login.');
    registerCard.classList.add('hidden');
    loginCard.classList.remove('hidden');
});

// --- Verification Script ---
const startCameraBtn = document.getElementById('startCamera');
const captureBtn = document.getElementById('captureBtn');
const videoElement = document.getElementById('videoElement');
const canvas = document.getElementById('canvas');
const uploadBtn = document.getElementById('uploadBtn');
const fileInput = document.getElementById('fileInput');
const uploadCanvas = document.getElementById('uploadCanvas');
const verifyBtn = document.getElementById('verifyBtn');
const resultsPanel = document.getElementById('resultsPanel');
const liveCamera = document.getElementById('liveCamera');
const livePlaceholder = document.getElementById('livePlaceholder');
const uploadBox = document.getElementById('uploadBox');

let stream=null, capturedImage=null, uploadedImage=null;

// Camera Start/Stop
startCameraBtn.addEventListener('click', async()=>{
    if(stream){
        stream.getTracks().forEach(t=>t.stop()); stream=null;
        videoElement.style.display='none'; livePlaceholder.style.display='flex';
        startCameraBtn.textContent='Start Camera'; captureBtn.classList.add('hidden');
        return;
    }
    try{
        stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:'user',width:640,height:480}});
        videoElement.srcObject=stream; videoElement.style.display='block'; livePlaceholder.style.display='none';
        startCameraBtn.textContent='Stop Camera'; captureBtn.classList.remove('hidden');
    }catch(e){ alert('Camera access denied!'); }
});

// Capture Image
captureBtn.addEventListener('click',()=>{
    canvas.width=videoElement.videoWidth;
    canvas.height=videoElement.videoHeight;
    canvas.getContext('2d').drawImage(videoElement,0,0);
    capturedImage=canvas.toDataURL('image/jpeg');
    alert('Image Captured'); checkVerificationReady();
});

// Upload ID
uploadBtn.addEventListener('click', ()=> fileInput.click());
fileInput.addEventListener('change',(e)=>{
    const file=e.target.files[0];
    if(file){
        const reader=new FileReader();
        reader.onload=(ev)=>{
            const img=new Image();
            img.onload=()=>{
                uploadCanvas.width=img.width; uploadCanvas.height=img.height;
                uploadCanvas.getContext('2d').drawImage(img,0,0);
                uploadCanvas.style.display='block';
                uploadBox.querySelector('.camera-placeholder').style.display='none';
                uploadedImage=uploadCanvas.toDataURL('image/jpeg');
                checkVerificationReady();
            }
            img.src=ev.target.result;
        }
        reader.readAsDataURL(file);
    }
});

function checkVerificationReady(){
    if(capturedImage && uploadedImage) verifyBtn.classList.remove('hidden');
}

// Verify Identity
verifyBtn.addEventListener('click',()=>{
    resultsPanel.style.display='block';
    setTimeout(()=>{
        const matchScore=90+Math.random()*10;
        const liveScore=85+Math.random()*15;
        const authScore=88+Math.random()*12;
        document.getElementById('matchScore').textContent=matchScore.toFixed(1)+'%';
        document.getElementById('livenessScore').textContent=liveScore.toFixed(1)+'%';
        document.getElementById('authenticityScore').textContent=authScore.toFixed(1)+'%';
        document.getElementById('matchProgress').style.width=matchScore+'%';
        document.getElementById('livenessProgress').style.width=liveScore+'%';
        document.getElementById('authenticityProgress').style.width=authScore+'%';
        const avg=(matchScore+liveScore+authScore)/3;
        const statusBadge=document.getElementById('statusBadge');
        if(avg>=85){ statusBadge.textContent='âœ“ Identity Verified'; statusBadge.className='status-badge verified'; }
        else{ statusBadge.textContent='âš  Verification Failed'; statusBadge.className='status-badge pending'; }
    },1500);
});
</script>
</body>
</html>
